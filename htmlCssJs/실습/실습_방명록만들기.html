<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>방명록만들기</title>
</head>

<body>

    <div>
        방명록입니다<br><br>
        <div>
            <div>작성자: <input type="text" name="name"></div>
            <div>내용: <input type="text" name="content"></div>
            <button type="button" onclick="addRow()">작성</button>
        </div>

    </div>


    <table border="1" cellspacing="0" id="table">
        <tr>
            <th>번호</th>
            <th>작성자</th>
            <th>내용</th>
            <th>작성일</th>
        </tr>
    </table>

    <script>
        let num = 1;
        function addRow() {
            const date = new Date();
            const dateToString = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDay()}-${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`
            // input 2개의 값을 가져와야 함.
            const name = document.querySelector("[name=name]").value;
            const content = document.querySelector("[name=content]").value;
            // 번호, 작성일

            // num을 => tbody의 children 개수 ==> tbody 선택 tbody.childeren.length
            //ㄴ위 방법 대신 num변수에 1씩 더하여 구현함

            // tr태그 만든다
            const tr = document.createElement("tr");

            /* tr.innerHTML = `<td>${num}</td>
            <td>${name}</td>
            <td>${content}</td>
            <td>${dateString}</td>` */

            // td태그 4개를 만든다.
            const td1 = document.createElement("td");
            td1.innerText = num;
            const td2 = document.createElement("td");
            td2.innerText = name;
            const td3 = document.createElement("td");
            td3.innerText = content;
            const td4 = document.createElement("td");
            td4.innerText = dateToString;

            // td태그 4개를 tr태그 자식요소로 추가
            tr.append(td1)
            tr.append(td2)
            tr.append(td3)
            tr.append(td4)
            // tobdy태그의 자식요소로 tr태그를 추가한다.
            const tbody = document.querySelector("tbody")
            tbody.append(tr);

            num++;
        }

    </script>

</body>

</html>


<!-- 
<결과 같은 다른 코드>
    방명록입니다.<br><br>
    <form>
        <label for="writer"><b>작성자</b></label>
        <input type="text" size="10" id="writer"><br>
        <label for="content"><b>내용</b></label>
        <input type="text" size="50" id="content"><br><br>
    </form>
    <input type="submit" value="작성" onclick="submit()">

    <br>
    <br>
    <table border="1" cellspacing="0px" id="table">
        <tr>
            <th>번호</th>
            <th>작성자</th>
            <th>내용</th>
            <th>작성일</th>
        </tr>
    </table>
    <script>

        let num = 1
        function submit() {
            const date = new Date();
            const dateToString = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDay()}-${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`

            let tr = document.createElement("tr")
            let td1 = document.createElement("td")
            td1.innerText = num
            let td2 = document.createElement("td")
            td2.textContent = document.getElementById("writer").value;
            let td3 = document.createElement("td")
            td3.textContent = document.getElementById("content").value
            let td4 = document.createElement("td")
            td4.textContent = dateToString

            tr.append(td1)
            tr.append(td2)
            tr.append(td3)
            tr.append(td4)

            table = document.getElementsByTagName('table'); // getElementsByTagName는 '요소의 배열'을 가지고옴
            table[0].append(tr)

            num++;
        }
    </script>

  -->