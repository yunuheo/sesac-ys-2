<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.4.min.js"></script>
  </head>
  <body>

    <h1>회원가입 폼</h1>
    <form action="/post/validation" method="post">
      <fieldset>
        <legend>회원가입</legend>
        아이디: <input type="text" required name="id" pattern="[a-z0-9]{5,}" title="영어 소문자와 숫자만 허용되며 5글자 이상이어야 합니다."> <br>
        

        </div>
        비밀번호: <input type="password" required name="pw" oninput="validCheckPw(this)"> <br>
        <div id="error-pw"></div>
        전화번호: <input type="tel" required name="tel" pattern="010-[0-9]{4}-[0-9]{4}" title="올바른 전화번호 형식이 아닙니다. (예: 010-0000-0000)"> <br>
        이름: <input type="text" required name="name"> <br>
        성별:
        <input type="radio" value="남자" name="gender" id="man"><label for="man" required>남자</label>
        <input type="radio" value="여자" name="gender" id="woman"><label for="woman" required>여자</label> <br>
      </fieldset>
      <br>
      <button type="submit">회원가입</button>
    </form>
    <hr>

    <!-- <h1>정보받기 get 요청</h1>
    <form action="/get" name="">
        이름 <input type="text" name="name" required minlength="4">
        <fieldset>
          <legend>성별</legend>
          <input type="radio" value="남자" name="gender" id="man"><label for="man" required>남자</label> 
          <input type="radio" value="여자" name="gender" id="woman"><label for="woman" required>여자</label>
        </fieldset>
        <br>
        <fieldset>
          <legend>생년월일</legend>
          <select name="yy" id="year"></select>년
          <select name="mm" id="month"></select>월
          <select name="dd" id="day"></select>일
  
        </fieldset>
        <br>
        <fieldset>
          <legend>관심사</legend>
          <input type="checkbox" value="여행" id="hobby"><label for="man">여행</label>
          <input type="checkbox" value="패션" id="hobby"><label for="fashion">패션</label>
          <input type="checkbox" value="음식" id="hobby"><label for="food">음식</label>
        </fieldset>
        <br>
        <button type="submit">회원가입</button>
    </form> -->

    <h1>정보받기 post 요청</h1>
    <form action="/post/ver2" method="post">
      이름 <input type="text" name="name" required oninput="validCheckPw(this)" title="소문자, 대문자, 한글, 숫자로 조합된 4~12자리 문자열로 입력">
      <div id="error-pw"></div>
      <fieldset>
        <legend>성별</legend>
        <input type="radio" value="남자" name="gender" id="man"><label for="man" required>남자</label> 
        <input type="radio" value="여자" name="gender" id="woman"><label for="woman" required>여자</label>
      </fieldset>
      <br>
      <fieldset>
        <legend>생년월일</legend>
        <select name="yy" id="year"></select>년
        <select name="mm" id="month"></select>월
        <select name="dd" id="day"></select>일

      </fieldset>
      <br>
      <fieldset>
        <legend>관심사</legend>
        <input type="checkbox" value="여행" id="hobby"><label for="man">여행</label>
        <input type="checkbox" value="패션" id="hobby"><label for="fashion">패션</label>
        <input type="checkbox" value="음식" id="hobby"><label for="food">음식</label>
      </fieldset>
      <br>
      <fieldset>
        
        <legend>선택</legend>
        
        좋아하는 색상 <input type="color" name="color"><label  id="color"> <br>
        좋아하는 숫자<input type="number" name="number" min="5" max="10" placeholder="숫자"><label id="number">
      </fieldset>
      <br>
      <button type="submit">회원가입</button>
    </form>


    <!-- <script>
      $(document).ready(function() {
        var now = new Date();
        var year = now.getFullYear();
        var mon = (now.getMonth() + 1) > 9 ? '' + (now.getMonth() + 1) : '0' + (now.getMonth() + 1);
        var day = (now.getDate()) > 9 ? '' + (now.getDate()) : '0' + (now.getDate());
        //년도 selectbox만들기               
        for (var i = 1900; i <= year; i++) {
          $('#year').append('<option value="' + i + '">' + i + '년</option>');
        }

        // 월별 selectbox 만들기            
        for (var i = 1; i <= 12; i++) {
          var mm = i > 9 ? i : "0" + i;
          $('#month').append('<option value="' + mm + '">' + mm + '월</option>');
        }

        // 일별 selectbox 만들기
        for (var i = 1; i <= 31; i++) {
          var dd = i > 9 ? i : "0" + i;
          $('#day').append('<option value="' + dd + '">' + dd + '일</option>');
        }
        $("#year  > option[value=" + year + "]").attr("selected", "true");
        $("#month  > option[value=" + mon + "]").attr("selected", "true");
        $("#day  > option[value=" + day + "]").attr("selected", "true");

      })

      function validCheckPw(el) {
        const regexPw = /^([a-z0-9]){8,12}$/
        const value = el.value
        const error = document.getElementById("error-pw")
        // regexPw.test("검사하고싶은 값") => true or false return
        if(regexPw.test(value)){
            error.innerHTML("")
            console.log("정규식 일치")
        }
        else{
            error.innerHTML = "소문자, 숫자로 조합된 8~12자리로 입력"
            console.log("정규식 불일치")
        }
      } -->

      <script>
      function validCheckPw(el) {
        const regexPw = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*\W){8,}$/;
        const value = el.value
        const error = document.getElementById("error-pw")
        // regexPw.test("검사하고싶은 값") => true or false return
        if(regexPw.test(value)){
            error.innerHTML=""
            console.log("정규식 일치")
        }
        else{
            error.innerHTML = "소문자 한개, 대문자 한개, 특수문자 한개 숫자 한개 포함하고 8글자 이상"
            console.log("정규식 불일치")
        }}
    </script>
  </body>
</html>